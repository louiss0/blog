import we from"clsx";var O=/^(?<variable_hint>[a-z]+:)?(?<variable_value>--_?[a-z0-9]+(?:(?:-|_)[a-z0-9]+)*)$/,Q=e=>O.test(e),X=e=>O.exec(e)?.groups?.variable_hint==="color:",Z=e=>O.exec(e)?.groups?.variable_hint==="length:",ee=e=>O.exec(e)?.groups?.variable_hint==="string:",te=/^(?<variant>\S+:)?(?<prefix>!|-|!-)?(?<type>[a-z]+-)(?<subtype>(?<first>[a-z]+-)?(?<second>[a-z]+-))?(?<value>\[[\w\-0-9$.#),(%\/:]+\]|[\w\d\/\][]+)$/,se=/^(?<type>[a-z]+|[a-z]+-[a-z]+)(?<breakpoint>-(?:sm|md|lg|xl|xxl))?-(?<value>[a-z0-9]+)(?<state>-[a-z]+)?$/,ae=/^(?<type>[a-z]+|[a-z]+-[a-z]+)(?<breakpoint>-(?:sm|md|lg|xl|xxl))?-(?<value>(?:(?:(?:prim|second|terti)ary)|info|light|dark|danger|warning)+(?:-emphasis|-subtle)?)(?<state>-[a-z]+)?$/,re=/^(?<digit>\d{1,4}(?:[a-z]{2,4})?)$/,x=e=>re.test(e),z=/^(?<color>[a-z]+-)(?<range>[0-9]{2,4})$/,ne=/^(?<hex_color>#[A-Fa-f0-9]{3,6})$/,j=/(?<css_color_function>[a-z]{3,9}\((?:\d{1,4}(?:%|[a-z]{3,4}|\.\d+)?(?:,|_)?){3,4}\))/,ie=/(?<variant>\S+:)?(?<class_type_and_value>[a-z0-9\-_\]\[,)(%#!]+)/,D=e=>z.test(e),P=/^(?<subtype>[a-z]+ary-)(?<value>[a-z\d]+)?$/,oe=e=>ne.test(e)||j.test(e)||P.test(e),le=/^(?<css_function>[a-z_-]{3,15}\(([a-z0-9%!\(\).\/-]+(?:_|,)?)+\))$/,ue=e=>le.test(e)&&!j.test(e),pe=/^\[(?<value>[\w\-),%!\/($.:#]+)\]$/,de=/^(?<lower_case_word>[a-z]+)$/,ce=/(?<first_word>[a-z]+-)(?<middle_words>(?:[a-z]+-)+)?(?<last_word>[a-z]+)/,R=e=>de.test(e),ye=/([a-z0-9\-)(\/,.]+)(?:_[a-z0-9\/),(.\-]+)+/,fe=e=>ye.test(e),c=["digit","word","color","variable","function","args","slashValue"];var F=e=>{let n={customFiltered:new Map,safeListed:[]};return Object.freeze(e?Object.assign(n,e):n)},Ce=()=>F({bem:new Map}),K=()=>Object.freeze({...Ce(),basicUtility:new Map}),G=()=>F({bootstrapCSSUtility:new Map}),L=()=>F({arbitraryProperties:new Map,tailwindCSSUtility:new Map}),H=(e,n)=>{let o=/(?<type>[a-z]+-)(?<subtype>(?:[a-z]+-)*)?(?<value>[a-z\d]+)/.exec(n)?.groups||/(?<type>[a-z]+)(?<value>\d+)/.exec(n)?.groups;if(!o)return!1;let{type:s,value:t,subtype:a=""}=o;if(!s||!t)return!1;let l=`${s}${a}`,r=`${a}${t}`,i=x(t),y=R(t),u=D(r)||P.test(r),p=z.exec(r)?.groups,b=ce.exec(r)?.groups;if(!e.has(s)){if(u){if(p){let{color:d,range:g}=p;return!d||!g?!1:(e.set(s,new Map([[c[2],`${d}${g}`]])),!0)}return e.set(s,new Map([[c[2],r]])),!0}if(i)return e.set(l,new Map([[c[0],t]])),!0;if(y){if(b){let{first_word:d,middle_words:g="",last_word:T}=b;return d&&T?(e.set(s,new Map([[c[1],`${d}${g}${T}`]])),!0):(e.get(s)?.set(c[1],`${d}${g}${T}`),!0)}return e.set(l,new Map([[c[1],t]])),!0}}let f=e.get(s)||e.get(l);if(f){if(u)return p?(f.set(c[2],`${p.color}${p.range}`),!0):(f.set(c[2],t),!0);if(i)return f.set(c[0],t),!0;if(y)return f.set(c[1],t),!0}return!1},q=(e,n)=>{let o=ae.exec(n)?.groups||se.exec(n)?.groups;if(!o)return!1;let{type:s,value:t,breakpoint:a="",state:l="base"}=o;if(!s||!t)return!1;let r=`${s}${a}`,i=x(t),y=/[a-z\-_]+/.test(t);if(!e.has(r)){if(i)return e.set(r,new Map([["digitMap",new Map().set(l,t)]])),!0;if(y)return e.set(r,new Map([["wordMap",new Map().set(l,t)]])),!0}let u=e.get(r);if(u){if(i)return u.get("digitMap")?.set(l,t),!0;if(y)return u.get("wordMap")?.set(l,t),!0}return!1},ge=(e,n)=>(o,s,t)=>{let{type:a,subtype:l}=t;if(!e.some(C=>a.startsWith(C)||a===C))return!1;let i=(C,w)=>a.endsWith(C)?o.get(`${a.replace(C,"")}${w}`)?.delete(s):l===C?o.get(`${a}${w==="-"?"":w}`)?.delete(s):!1,{up:y,down:u,left:p,right:b,horizontal:f,both:d,vertical:g,bottomLeft:T,bottomRight:h,topLeft:A,topRight:m}=n;return[i(d,y),i(y,d),i(u,d),i(p.primary,d),i(d,p.primary),i(b.primary,d),i(d,b.primary),i(A.primary,d),i(d,A.primary),i(m.primary,d),i(d,m.primary),i(T.primary,d),i(d,T.primary),i(h.primary,d),i(d,h.primary),i(f,d),i(d,f),i(g,d),i(d,g),p?.secondary&&b?.secondary&&i(p.secondary,d),p?.secondary&&b?.secondary&&i(d,p.secondary),A?.secondary&&m?.secondary&&i(m.secondary,d),A?.secondary&&m?.secondary&&i(d,m.secondary),T?.secondary&&h?.secondary&&i(h.secondary,d),T?.secondary&&h?.secondary&&i(d,h.secondary)].reduce(C=>C===!0)},Te=["m","z-index","border","p","start","end","overflow","gap","scale","translate","rotate","skew","rounded","scroll","scroll-m","touch-pan","bg-repeat","divide"],$=ge(Te,{up:"t-",down:"b-",left:{primary:"l-",secondary:"s-"},topLeft:{primary:"tl-",secondary:"ss-"},bottomLeft:{primary:"bl-",secondary:"es-"},right:{primary:"r-",secondary:"e-"},topRight:{primary:"tr-",secondary:"se-"},bottomRight:{primary:"br-",secondary:"ee-"},horizontal:"x-",both:"-",vertical:"y-"}),k=(e,n)=>{let o=!1,s={text:{classType:"text-",valueType:"word",secondary:{classType:"leading-",valueType:"digit"}},shadow:{classType:"shadow-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}},accent:{classType:"accent-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}},bg:{classType:"bg-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}},border:{isDirectional:!0,classType:"border-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}},divide:{isDirectional:!0,classType:"divide-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}},ring:{classType:"ring-",valueType:"color",secondary:{classType:"opacity-",valueType:"digit"}}},{variant:t,prefix:a,type:l,firstSubtype:r,secondSubtype:i="",value:y}=n,u=s[l.replace("-","")],p=r?`${t}${l}${r}`:`${t}${l}${i}`,b=/^[a-z\d]+\/[a-z\d\][]+$/.test(y);if(u&&b){let d=`${i}${y}`,g=/^[a-z]+-[a-z\d]+\/[a-z\d\][\.]+$/.test(d);if(r&&g&&(e.has(p)||e.set(p,new Map([[c[6],new Map([["prefix",a],["value",d]])]])),e.has(p))){let C=e.get(p);!C?.has(c[6])&&C?.set("slashValue",new Map([["prefix",a],["value",d]])),C?.get(c[6])?.set("prefix",a)?.set("value",d)}if(!r&&(e.has(p)||e.set(p,new Map([[c[6],new Map([["prefix",a],["value",y]])]])),e.has(p))){let C=e.get(p);!C?.has(c[6])&&C?.set("slashValue",new Map([["prefix",a],["value",y]])),C?.get(c[6])?.set("prefix",a)?.set("value",y)}let{isDirectional:T,secondary:h,classType:A,valueType:m}=u;T&&($(e,"color",{type:`${t}${A}`,subtype:r??i}),e.get(`${t}${h.classType}`)?.delete(h.valueType)),T||(e.get(`${t}${A}`)?.delete(m),e.get(`${t}${h.classType}`)?.delete(h.valueType)),o=!0}return o},B=(e,n)=>{let o=te.exec(n)?.groups;if(!o)return!1;let{type:s,value:t,variant:a="",subtype:l="",prefix:r="",first:i,second:y}=o;if(!s||!t)return!1;let u=`${a}${s}`,p=`${a}${s}${l}`,b=`${l}${t}`,f=t.match(pe)?.[1],d=!!f,g=x(t)||f&&x(f)||f&&Z(f),T=R(t)||d&&R(f)||d&&ee(f),h=d&&ue(f),A=d&&fe(f),m=d&&Q(f),C=f&&oe(f)||d&&X(f)||D(`${l}${t}`);if(r==="-"&&!g)throw new Error(`The ${r} only works with digits don't use it on classes that aren't numbers`);let w=z.exec(b)?.groups;if(l){if(w){let{color:V,range:U}=w;return!V||!U?!1:e.has(u)?(e.get(u)?.set(c[2],new Map([["prefix",r],["value",`${V}${U}`]])),v(e,p,"color"),!0):(e.set(u,new Map([[c[2],new Map([["prefix",r],["value",`${V}${U}`]])]])),!0)}if(!e.has(p)){if(g)return e.set(p,new Map([[c[0],new Map([["prefix",r],["value",t]])]])),$(e,"digit",{type:u,subtype:l})||v(e,p,"digit"),!0;if(T)return e.set(p,new Map([[c[1],new Map([["prefix",r],["value",t]])]])),v(e,p,"word"),!0;if(h)return e.set(p,new Map([[c[4],new Map([["prefix",r],["value",t]])]])),v(e,p,"function"),!0;if(m)return e.set(p,new Map([[c[3],new Map([["prefix",r],["value",t]])]])),v(e,p,"variable"),!0;if(A)return e.set(p,new Map([[c[5],new Map([["prefix",r],["value",t]])]])),v(e,p,"args"),!0}let I=e.get(p);if(I){if(g)return I.set(c[0],new Map([["prefix",r],["value",t]])),$(e,"digit",{type:u,subtype:l})||v(e,p,"digit"),!0;if(T)return I.set(c[1],new Map([["prefix",r],["value",t]])),v(e,p,"word"),!0;if(h)return I.set(c[4],new Map([["prefix",r],["value",t]])),v(e,p,"color"),!0;if(m)return I.set(c[3],new Map([["prefix",r],["value",t]])),v(e,p,"variable"),!0;if(A)return I.set(c[5],new Map([["prefix",r],["value",t]])),v(e,p,"args"),!0}return!!k(e,{type:s,firstSubtype:i,secondSubtype:y,value:t,variant:a,prefix:r})}if(!e.has(u)){if(C)return e.set(u,new Map([[c[2],new Map([["prefix",r],["value",t]])]])),S(e,u,"color"),!0;if(g)return e.set(p,new Map([[c[0],new Map([["prefix",r],["value",t]])]])),$(e,"digit",{type:u,subtype:l})||S(e,u,"digit"),!0;if(T)return e.set(p,new Map([[c[1],new Map([["prefix",r],["value",t]])]])),S(e,u,"word"),!0;if(h)return e.set(p,new Map([[c[4],new Map([["prefix",r],["value",t]])]])),S(e,u,"function"),!0;if(m)return e.set(p,new Map([[c[3],new Map([["prefix",r],["value",t]])]])),S(e,u,"variable"),!0;if(A)return e.set(p,new Map([[c[5],new Map([["prefix",r],["value",t]])]])),S(e,u,"args"),!0}let M=e.get(u);if(M){if(C)return w?(M.get(c[2])?.set("prefix",r).set("value",`${w?.color}${w?.range}`),S(e,u,"color"),!0):(M.set(c[2],new Map([["prefix",r],["value",t]])),S(e,u,"color"),!0);if(g)return M.set(c[0],new Map([["prefix",r],["value",t]])),$(e,"digit",{type:u,subtype:l})||S(e,u,"digit"),!0;if(T)return M.set(c[1],new Map([["prefix",r],["value",t]])),S(e,u,"word"),!0;if(h)return M.set(c[4],new Map([["prefix",r],["value",t]])),S(e,u,"function"),!0;if(m)return M.set(c[3],new Map([["prefix",r],["value",t]])),S(e,u,"variable"),!0;if(A)return M.set(c[5],new Map([["prefix",r],["value",t]])),S(e,u,"args"),!0}return!!k(e,{type:s,firstSubtype:i,secondSubtype:y,value:t,variant:a,prefix:r})};function v(e,n,o){let s=/^(?<variant>\S+:)?(?<type>[a-z]+-)(?<subtype>[a-z]+-)$/,t=s.exec(n)?.groups;if(!t)return;let{variant:a="",type:l}=t;if(!l)return;let r=Array.from(e.keys()).find(i=>{let y=s.test(i),u=new Set(`${i}${a}${l}`).size===new Set(i).size;return y&&i!==n&&u});if(r)return e.get(r)?.delete(o)}function S(e,n,o){let s=/^(?<variant>\S+:)(?<type>[a-z]+-)$/,t=s.exec(n)?.groups;if(!t)return;let{variant:a,type:l}=t;if(!a||!l)return;let r=Array.from(e.keys()).find(i=>{let y=s.test(i),u=new Set(`${i}${a}${l}`).size===new Set(i).size;return y&&i!==n&&u});if(r)return e.get(r)?.delete(o)}var E=(e,n,o)=>{let s=!1;return Object.entries(o).forEach(([t,a])=>{let l=ie.exec(n)?.groups;if(!l)return;let{variant:r="base",class_type_and_value:i}=l;i&&(!e.has(t)&&a.includes(i)&&(e.set(t,new Map([[r,i]])),s=!0),a.includes(i)&&(e.get(t)?.set(r,i),s=!0))}),s},he=/^(?<lower_case_word>[a-z]+)(?<element>__[a-z]+(?:--[a-z0-9]+)?)$/,me=/^(?<lower_case_word>[a-z]+)(?<modifier>--[a-z0-9]+)$/,Y=(e,n,o)=>{let s=he.exec(n)?.groups,t=me.exec(n)?.groups;if(s){let{lower_case_word:a,element:l}=s;return!a||!l?!1:e.has(a)?(e.get(a)?.set("element",l),!0):(e.set(a,new Map([["element",l]])),!0)}if(t){let{lower_case_word:a,modifier:l}=t;if(!a||!l)return!1;if(!o.includes(a))throw new Error(`To have a modifier you must have the block ${a} in the list of classes already.
                    Please put the block as the class that requires the use of the modifier.`);return e.has(a)?(e.get(a)?.set("modifier",l),!0):(e.set(a,new Map([["modifier",l]])),!0)}return!1},Se=/(?<variant>\S+:)?\[(?<property_key>[a-z]+(?:\-[a-z]+)*:)(?<property_value>[_\-),.\/(a-z0-9]+)\]/,_=(e,n)=>{let o=Se.exec(n);if(!o)return!1;let[,s="base",t,a]=o;return!t||!a?!1:e.has(t)?(e.get(t)?.set(s,a),!0):(e.set(t,new Map([[s,a]])),!0)},be=/^(?<relationship>@?[a-z-]+\/)(?<name>[a-z]+)$/,N=(e,n)=>{let o=n.match(be);if(!o)return!1;let[,s,t]=o;return!s||!t?!1:e.has(s)?(e.get(s)?.get("word")?.set("value",t),!0):(e.set(s,new Map([["word",new Map([["value",t]])]])),!0)},Ae=/(?<variant>\S+:)\((?<class_names>(?:[\w\-\]\[$.#),(%:\/]+)(?:\s[\w\-\]\[$.#)\/,(%:]+)+)\)/,J=({arbitraryProperties:e,customFiltered:n,tailwindCSSUtility:o},s,t)=>{let a=!1,l=Ae.exec(s)?.groups;if(!l)return a;let{variant:r,class_names:i}=l;return!r||!i||(i?.split(/\s/)).map(u=>`${r}${u}`).forEach(u=>{if(B(o,u)){a=!0;return}if(N(o,u)){a=!0;return}if(_(e,u)){a=!0;return}if(t&&E(n,u,t)){a=!0;return}}),a};var ve=e=>{let n="";if(e.size===0)return n;for(let o of e.values())if(o)for(let[s,t]of o)n=n.concat(`${s==="base"?"":s}${t} `);return n},Me=e=>e.length===0?"":`${e.join(" ")} `,Ie=(e,n,o)=>(s,t)=>{let a=e(),{customFiltered:l,safeListed:r,...i}=s.reduce(Ve(t,n),a),y=Me(r),u=ve(l);return o(i,y.concat(u)).trimEnd()};function Ve(e,n){return(o,s)=>{if(e&&E(o.customFiltered,s,e))return o;if(/^[a-z]+$/.test(s)){if(o.safeListed.includes(s))throw new Error(`You have this class in the safelist and as a class name.
                     Classes that are safe listed are not filtered just prepended
                     to the start result of this function.
                     If you want them filtered then please use a filter map instead.
                    `);return o.safeListed.push(s),o}return n(o,s,e)}}function $e(e){return e instanceof Map}function xe(e){return typeof e=="string"}var W=e=>(...n)=>{let{sortedClassesCreator:o,classMapChanger:s,classMapToStringTransformer:t,filterObject:a}=e,l=/\s+/,r=we(...n).split(l);if(r.length<2)throw new Error("This string has no sets of classes please add spaces between classes that need to be sorted");return Ie(o,s,t)(r,a)},Be=W({sortedClassesCreator:K,classMapChanger(e,n){return H(e.basicUtility,n)||Y(e.bem,n,e.safeListed),e},classMapToStringTransformer(e,n){if(e.bem.size!==0)for(let[o,s]of e.bem){let t=s?.get("modifier"),a=s?.get("element");t&&(n=n.concat(`${o} ${o}${t} `)),a&&(n=n.concat(`${o}${a} `))}if(e.basicUtility.size!==0)for(let[o,s]of e.basicUtility){if(!s)continue;let a=[s.get("digit"),s.get("word"),s.get("color")].filter(xe).map(l=>`${o}${l} `);n=n.concat(...a)}return n}}),Ee=W({sortedClassesCreator:L,classMapChanger(e,n,o){if([()=>B(e.tailwindCSSUtility,n),()=>_(e.arbitraryProperties,n),()=>N(e.tailwindCSSUtility,n)].some(r=>r()===!0))return e;let{customFiltered:t,tailwindCSSUtility:a,arbitraryProperties:l}=e;return J({tailwindCSSUtility:a,arbitraryProperties:l,customFiltered:t},n,o),e},classMapToStringTransformer(e,n){if(e.arbitraryProperties.size!==0){for(let[o,s]of e.arbitraryProperties)if(!(!s||s.size===0))for(let[a,l]of s)n=n.concat(`${a==="base"?"":a}[${o}${l}] `)}if(e.tailwindCSSUtility.size!==0)for(let[o,s]of e.tailwindCSSUtility){if(!s||s.size===0)continue;let l=[s.get("digit"),s.get("word"),s.get("color"),s.get("function"),s.get("variable"),s.get("args")].filter($e).map(r=>{let i=r?.get("prefix"),y=r?.get("value");return`${o}${i}${y} `});n=n.concat(...l)}return n}}),_e=W({filterObject:{visibility:["visible","invisible","collapse"],layout:["d-flex","grid"],stack:["vstack","hstack"]},sortedClassesCreator:G,classMapChanger(e,n){return q(e.bootstrapCSSUtility,n),e},classMapToStringTransformer(e,n){if(e.bootstrapCSSUtility.size!==0)for(let[o,s]of e.bootstrapCSSUtility){if(!s)continue;let[t,a]=[s.get("digitMap"),s.get("wordMap")];if(t)for(let[l,r]of t.entries()){let i=l==="base"?"":l;n=n.concat(`${o}-${r}${i} `)}if(a)for(let[l,r]of a.entries()){let i=l==="base"?"":l;n=n.concat(`${o}-${r}${i} `)}}return n}});export{_e as bootstrapCN_EFS,Be as cnEFS,Ee as tailwindOrWindiCN_EFS};
